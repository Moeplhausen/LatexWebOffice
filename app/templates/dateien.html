<!--
@author: Martin Koláček, Franziska Everinghoff, Kirill Maltsev, Thore Thießen
@creation: 03.11.2014 - sprint-nr: 1
@last-change: 08.01.2015 - sprint-nr: 4
-->

<!-- embedding file: _wrapper.html -->
{% extends "_wrapper.html" %}

{% block header %}
{% endblock %}

<!-- content to embed in wrapper.html as content -->
{% block content %}
<!-- Fehlermeldungen als Dialoge -->
<div id="dialog_keine_rechte_loeschen" title="Löschen fehlgeschlagen" style="display: none;">
  <p>Sie haben nicht ausreichend Rechte, um diese Aktion durchzuführen.
  </p>
</div>
<div id="dialog_keine_rechte_dateien_abrufen" title="Abfrage fehlgeschlagen" style="display: none;">
  <p>Sie haben nicht ausreichend Rechte, um diese Aktion durchzuführen.
  </p>
</div>
<div id="dialog_ungueltige_eingabe" title="Ungültige Eingabe" style="display: none;">
  <p>Sie haben einen ungültiges Zeichen verwendet.
  </p>
</div>
<div id="dialog_leere_eingabe" title="Ungültige Eingabe" style="display: none;">
  <p>Bitte geben Sie mindestens ein Zeichen ein.
  </p>
</div>
<div id="dialog_ordner_existiert_nicht" title="Abfrage fehlgeschlagen" style="display: none;">
  <p>Es existiert kein derartiges Verzeichnis.
  </p>
</div>
<div id="dialog_ordner_existiert" title="Ungültige Eingabe" style="display: none;">
  <p>Es existiert bereits ein Ordner unter dem angegebenen Namen.
  </p>
</div>
<div id="dialog_datei_existiert_nicht" title="Ungültige Eingabe" style="display: none;">
  <p>Es konnte keine Datei gefunden werden.
  </p>
</div>
<!-- Ende der Fehlermeldungen -->
<div id="dialog_keine_auswahl" title="Keine Auswahl getroffen" style="display: none;">
  <p>Sie haben leider keine Datei bzw. keinen Ordner ausgewählt. Bitte treffen Sie eine Auswahl, um die Funktionen der Webseite nutzen zu können.
  </p>
</div>
<div id="dialog_datei_ordner_loeschen" title="Datei/Ordner löschen" style="display: none;">
  <p>Bitte wählen Sie aus, ob Sie die Datei oder den Ordner (und dessen Unterordner) löschen möchten. Es werden alle Unterordner vom ausgewählten Ordner gelöscht.
  </p>
  <p onClick="removePopup('remove');checkRemoveFile(getFileId(),'file')"> Datei löschen</p>
  <p onClick="removePopup('remove');checkRemoveFolder(getFolderId(),'folder')"> Ordner löschen</p>
</div>
<div id="dialog_datei_neuer_name" title="Datei umbenennen" style="display: none;">
  <p>Bitte gib einen neuen Namen für die Datei ein.
  </p>
  <input type="text" id="file_name" value="getFileName()" style="width: 200px;height: 30px;">
  <input type="button" onClick="renameFolderAndFiles(getFileId(),'file')" value="Speichern">
</div>
<div id="dialog_ordner_neuer_name" title="Ordner umbenennen" style="display: none;">
  <p>Bitte gib einen neuen Namen für den Ordner ein.
  </p>
  <input type="text" id="folder_name" value="" style="width: 200px;height: 30px;">
  <input type="button" onClick="renameFolderAndFiles(getFolderId(),'folder')" value="Speichern">
</div>
<div id="dialog_datei_ordner_umbenennen" title="Datei/Ordner umbenennen" style="display: none;">
  <p>Bitte wählen Sie aus, ob Sie die Datei oder den Ordner umbenennen möchten. 
  </p>
  <p onClick="removePopup('rename');showPopup('new_name_file');"> Datei umbenennen</p><!--renameFolderAndFiles(getFileId(),'file')renameFolderAndFiles(getFolderId(),'folder')-->
  <p onClick="removePopup('rename');showPopup('new_name_folder');"> Ordner umbenennen</p>
</div>
<div id="dialog_uploadFile" title="Datei Hochladen" style="display: none">
	<p>Bitte wählen Sie Dateien zum Hochladen aus!<br />
	Erlaubte Dateien (.tex|.jpg|.png|.pdf).</p>
	<p id="dialog_uploadFile_message" class="error invisible"></p>
	<p style="text-align: center">
		<form id="dialog_uploadFile_form" action="/documents/" method="post" 
				target="dialog_uploadFile_dstFrame" enctype="multipart/form-data">
			{% csrf_token %}
			<input type="hidden" name="command" value="uploadfiles" />
			<input type="file" name="files" accept="tex|jpg|png|pdf" />
			<input type="submit" value="Hochladen" />
		</form>
	</p>
	<iframe name="dialog_uploadFile_dstFrame" class="invisible"></iframe>
</div>

<h1>Dateien und Ordner</h1>

<div>
    <div class="btn-toolbar hidden-xs filestoolbar" role="toolbar">
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default filestoolbar-open" disabled>Öffnen</button>
        </div>

        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default filestoolbar-new">Erstellen</button>
            <button type="button" class="btn btn-default filestoolbar-delete" disabled>Löschen</button>
            <button type="button" class="btn btn-default filestoolbar-rename" disabled>Umbennenen</button>
            <button type="button" class="btn btn-default filestoolbar-move" disabled>Verschieben</button>
        </div>

        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default filestoolbar-download" disabled>Herunterladen</button>
            <button type="button" class="btn btn-default filestoolbar-upload">Hochladen</button>
        </div>
    </div>

    <div class="btn-toolbar visible-xs-block filestoolbar" role="toolbar">
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default filestoolbar-open" disabled>
                <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
            </button>
        </div>

        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default filestoolbar-new">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            </button>
            <button type="button" class="btn btn-default filestoolbar-delete" disabled>
                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            </button>
            <button type="button" class="btn btn-default filestoolbar-rename" disabled>
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            </button>
            <button type="button" class="btn btn-default filestoolbar-move" disabled>
                <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
            </button>
        </div>

        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default filestoolbar-download" disabled>
                <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
            </button>
            <button type="button" class="btn btn-default filestoolbar-upload">
                <span class="glyphicon glyphicon-open" aria-hidden="true"></span>
            </button>
        </div>
    </div>

    <div class="fileswrapper">
        <ul class="files">
            <li class="filesitem-folder">Root node 1
	            <ul>
	                <li class="filesitem-file">Sub node 1</li>
	            </ul>
            </li>
            <li class="filesitem-file">Root node 2</li>
        </ul>
    </div>

    <script>
        $(function () {
            $('.fileswrapper').jstree();
        });
    </script>
</div>

{% endblock %}
<!-- end of content to embed -->
